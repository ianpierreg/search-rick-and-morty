(this["webpackJsonpsearch-rick-and-morty"]=this["webpackJsonpsearch-rick-and-morty"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(12),r=a.n(s),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},o=a(7),l=a(3),d=a(8),u=a.n(d),j=a.p+"static/media/logo.dddf9684.svg";a(25);var b=a(0),h=function(e){var t=e.className,a=e.onClick,n=e.text;return Object(b.jsx)("button",{type:"button",onClick:a,className:t,"aria-label":"".concat(n," button"),children:n})};h.defaultProps={className:"",onClick:function(){}};var m=h,O=(a(27),a(28),function(e){var t=e.toastData,a=Object(n.useState)(t),c=Object(l.a)(a,2),s=c[0],r=c[1],i=Object(n.useMemo)((function(){return{title:void 0,description:void 0,dismissTime:0}}),[]);return Object(n.useEffect)((function(){r(t||i)}),[t,i]),Object(n.useEffect)((function(){s.title&&s.description&&setTimeout((function(){r(i)}),s.dismissTime||4e3)}),[s.title,s.description,s.dismissTime,i]),s.title&&s.description?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"notification-container",children:Object(b.jsxs)("div",{className:"notification toast",children:[Object(b.jsx)("span",{className:"notification-title",children:s.title}),Object(b.jsx)("span",{className:"notification-message",children:s.description})]})})}):null});O.defaultProps={toastData:{title:void 0,description:void 0,dismissTime:4e3}};var f=O,p=function(e){var t=e.searchValue,a=e.setSearchValue,c=Object(n.useState)(""),s=Object(l.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(),d=Object(l.a)(o,2),u=d[0],j=d[1];return Object(b.jsxs)("div",{className:"search-wrapper",children:[Object(b.jsx)(f,{toastData:u}),Object(b.jsx)("input",{type:"search",className:"search-input",placeholder:"Search Characters",onChange:function(e){return i(e.target.value)},value:r,"aria-label":"Search box"}),Object(b.jsx)(m,{onClick:function(){t!==r?a(r):j({title:"I just retrieve that data",description:"I refuse to search something I already know..."})},className:"search-button",text:"Search"})]})},g=a.p+"static/media/loading.fd752ea1.svg",x=(a(29),function(){return Object(b.jsxs)("div",{className:"loading-wrapper",children:[Object(b.jsx)("img",{src:g,alt:"loading",className:"loading-image"}),Object(b.jsx)("span",{className:"loading-text",children:"Loading"})]})}),v=a(2),N=a.n(v),y=N.a.shape({type:N.a.string,string:N.a.string,dimension:N.a.string,residents:N.a.arrayOf(N.a.objectOf(N.a.number))}),k={type:"Unknown Place",name:"Unknown",dimension:"Unknown Dimension",residents:[]},w=(N.a.shape({id:N.a.oneOf([N.a.string,N.a.number]),name:N.a.string.isRequired,image:N.a.string.isRequired,gender:N.a.string,status:N.a.string,species:N.a.string,episode:N.a.arrayOf(N.a.shape({air_date:N.a.number.isRequired})).isRequired,location:y,origin:y}),N.a.shape({gender:"Unknown",status:"Unknown",species:"Unknown",location:k,origin:k})),C=a(17),S=a.n(C),P=a(13),T=a(6),D=(a(41),function(e){var t=e.title,a=e.location,n=Object(P.a)(Object(P.a)({},k),a);return Object(b.jsxs)("div",{className:"location-info",children:[Object(b.jsx)("h1",{children:t}),Object(b.jsx)("span",{className:"planet",children:n.type}),Object(b.jsx)("span",{className:"planet-dimension",children:n.name}),Object(b.jsx)("span",{className:"dimension",children:n.dimension}),n.residents&&Object(b.jsxs)("div",{className:"residents",children:[Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(T.c,{})}),Object(b.jsxs)("span",{className:"residents-number",children:[n.residents.length,"residents"]})]})]})});D.defaultProps={location:k};var E=D,F=(a(11),function(e){var t=e.character,a=e.className,n=e.onClick,c=e.label,s=t.name,r=t.status,i=t.species,o=t.image;return Object(b.jsxs)("div",{role:"button",tabIndex:"0","aria-hidden":"true",className:"character-card ".concat(a),onClick:n,"aria-label":c,children:[Object(b.jsx)("div",{className:"character-image-wrapper",children:Object(b.jsx)("img",{src:o,alt:s,className:"Dead"===r&&"grayscale"})}),Object(b.jsxs)("div",{className:"character-info",children:[Object(b.jsx)("span",{className:"name",title:s,children:s}),Object(b.jsx)("span",{className:"species",children:i})]})]})});F.defaultProps={character:w,className:"",onClick:function(){}};var I=F,V=function(e){var t=e.character;return Object(b.jsx)(I,{character:t,className:"expanded",label:"Card of the character ".concat(t.name," from Rick and Morty TV Show")})};V.defaultProps={character:w};var R=V,q=(a(42),function(e){var t,a=e.show,n=e.close,c=e.character,s=c.name,r=c.image,i=c.gender,o=c.status,l=c.species,d=c.episode,u=c.location,j=c.origin,h="".concat(s," is a ").concat(i," ").concat(l,". ").concat("Dead"===o?"He is dead.":"Alive"===o?"He is alive and well.":"It can't be told if he is alive or dead.",". \n                 Last seen in ").concat(null===(t=d.pop())||void 0===t?void 0:t.air_date,".");return Object(b.jsxs)(S.a,{isOpen:a,portalClassName:"character-modal-portal",overlayClassName:"character-modal-overlay",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{background:"none",padding:0,width:"77%",display:"flex",justifyContent:"flex-end",border:"none",margin:"auto",overflow:"hidden"}},children:[Object(b.jsx)("div",{className:"floating-card",children:Object(b.jsx)(R,{character:c})}),Object(b.jsxs)("div",{className:"modal-wrapper",children:[Object(b.jsx)(m,{onClick:n,className:"modal-close-button",text:""}),Object(b.jsx)("div",{className:"character-image-blurred",children:Object(b.jsx)("img",{src:r,alt:s})}),Object(b.jsxs)("div",{className:"details-wrapper",children:[Object(b.jsxs)("div",{className:"about-wrapper",children:[Object(b.jsx)("h1",{children:"About"}),Object(b.jsx)("p",{className:"personal-info",children:h})]}),Object(b.jsx)(E,{location:j,title:"Origin"}),Object(b.jsx)(E,{location:u,title:"Location"})]})]})]})});q.defaultProps={character:w,show:!1};var U=q,L=function(e){var t=e.character,a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],r=c[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{character:t,onClick:function(){return r(!0)},label:"Clickable card of the character ".concat(t.name," from Rick and Morty TV Show")}),Object(b.jsx)(U,{show:s,close:function(){return r(!1)},character:t})]})};L.defaultProps={character:w};var M=L,$=(a(43),function(e){var t=e.characters;return Object(b.jsx)("div",{className:"characters-list",children:t.map((function(e){return Object(b.jsx)(M,{character:e},e.id)}))})});$.defaultProps={characters:N.a.shape(w)};var A=$,_=a(18),B=(a(44),function(e){var t=e.numberOfPages,a=e.currentPage,c=e.setCurrentPage,s=Object(n.useState)(5),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(n.useState)(),j=Object(l.a)(d,2),h=j[0],m=j[1],O="Oh oh...";return t&&Object(b.jsxs)("div",{className:"pages",children:[Object(b.jsx)(f,{toastData:h}),Object(b.jsx)("button",{type:"button",className:"arrows",onClick:function(){a<=1?m({title:O,description:"There is no page 0, you should know it!"}):(o((function(e){return a===e-4||a===e-5?e-4:e})),c((function(e){return e-1})))},children:Object(b.jsx)(T.a,{})}),t&&Object(_.a)(Array(t)).map((function(e,t){var n=t+1;return n>i||n<i-4?null:Object(b.jsx)("button",{type:"button",className:u()({page:!0,current:n===a}),onClick:function(){return function(e){o((function(t){return e===t?t+4:e===t-4&&e>=5?t-4:t})),c(e)}(n)},children:n},n)})),Object(b.jsx)("button",{type:"button",className:"arrows",onClick:function(){a>=t?m({title:O,description:"There is no page 0, you should know it!"}):(o((function(e){return a+1===e||a===e?e+4:e})),c((function(e){return e+1})))},children:Object(b.jsx)(T.b,{})})]})}),H=a.p+"static/media/empty.90fc5f47.png",J=(a(45),function(){return Object(b.jsxs)("div",{className:"empty-state",children:[Object(b.jsx)("div",{className:"empty-image",children:Object(b.jsx)("img",{src:H,alt:"empty state"})}),Object(b.jsx)("div",{className:"empty-title",children:"Sorry! No Results Found :( "}),Object(b.jsx)("div",{className:"empty-subtitle",children:"We have searched more than a billion galaxies but no sign of the character you are looking for."})]})}),G=(a(46),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(l.a)(s,2),i=r[0],d=r[1],h=Object(n.useState)(0),m=Object(l.a)(h,2),O=m[0],g=m[1],v=Object(n.useState)(),N=Object(l.a)(v,2),y=N[0],k=N[1],w=function(e){var t=e.searchValue,a=e.currentPage,c=Object(n.useState)(),s=Object(l.a)(c,2),r=s[0],i=s[1],d=Object(n.useState)(0),u=Object(l.a)(d,2),j=u[0],b=u[1],h={variables:{name:t,page:a}},m=Object(o.c)("query GetCharacters($name: String, $page: Int) {\n  characters(page: $page, filter: { name: $name }) {\n    info {\n      count\n    },\n    results {\n      id,\n      name,\n      status,\n      species,\n      type,\n      gender,\n      image,\n      episode {\n        air_date \n      },\n      location {\n        name,\n        type,\n        dimension,\n        residents {\n          id\n        }\n      },\n      origin {\n        name,\n        type,\n        dimension,\n        residents {\n          id\n        }\n      }\n    }\n  }\n}",h),O=Object(l.a)(m,2),f=O[0],p=O[1],g=p.loading,x=p.error,v=p.data;return Object(n.useEffect)((function(){var e,t,a;(null===v||void 0===v||null===(e=v.characters)||void 0===e?void 0:e.results)&&i(v.characters.results),(null===v||void 0===v||null===(t=v.characters)||void 0===t||null===(a=t.info)||void 0===a?void 0:a.count)&&b(Math.ceil(v.characters.info.count/20)),null===(null===v||void 0===v?void 0:v.characters)&&x&&i([])}),[g,x,v]),{fetchCharacters:f,loading:g,error:x,characters:r,numberOfPages:j}}({searchValue:i,currentPage:O}),C=w.fetchCharacters,S=w.loading,P=w.error,T=w.characters,D=w.numberOfPages;return Object(n.useEffect)((function(){P&&P.message&&k({title:"Ops!",description:"Some error happened trying to retrieve data..."})}),[P]),Object(n.useEffect)((function(){c(S)}),[S,c]),Object(n.useEffect)((function(){i&&""!==i&&g(1)}),[i,g]),Object(n.useEffect)((function(){O>0&&C()}),[O,C]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{toastData:y}),Object(b.jsxs)("div",{className:u()({home:!0,loading:a}),children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("img",{src:j,className:"logo",alt:"logo"}),Object(b.jsx)(p,{searchValue:i,setSearchValue:d})]}),T&&T.length&&Object(b.jsx)(A,{characters:T}),T&&!T.length&&Object(b.jsx)(J,{})]}),O>0&&T&&T.length&&Object(b.jsx)("footer",{children:Object(b.jsx)(B,{numberOfPages:D,currentPage:O,setCurrentPage:g})}),a&&Object(b.jsx)(x,{})]})});a(47);function W(){var e=new o.b({url:"https://rickandmortyapi.com/graphql"});return Object(b.jsx)(o.a.Provider,{value:e,children:Object(b.jsx)(G,{})})}r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root")),i()}],[[48,1,2]]]);
//# sourceMappingURL=main.f6bf84cd.chunk.js.map